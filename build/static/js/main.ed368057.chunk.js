(this.webpackJsonpfrontreact=this.webpackJsonpfrontreact||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(2),r=n.n(i),a=n(15),o=n.n(a),l=(n(21),n(6)),s=n(4),d=(n(22),n(3)),u=n.n(d);var f=function(t){var e=Object(i.useState)([]),n=Object(s.a)(e,2),r=n[0],a=n[1],o=Object(i.useState)({id:null,title:"",completed:!1}),d=Object(s.a)(o,2),f=d[0],j=d[1],b=Object(i.useState)(!1),p=Object(s.a)(b,2),h=p[0],m=p[1];function O(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var i=n[c].trim();if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}return e}function x(){u.a.get("http://127.0.0.1:8000/api/task-list/").then((function(t){a(t.data)}))}return Object(i.useEffect)((function(){x()}),[]),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{id:"task-container",children:[Object(c.jsx)("div",{id:"form-wrapper",children:Object(c.jsx)("form",{onSubmit:function(t){var e=O("csrftoken");t.preventDefault();var n="http://127.0.0.1:8000/api/task-create/";!0===h&&(n="http://127.0.0.1:8000/api/task-update/".concat(f.id,"/"),m(!1)),u.a.post(n,f,{headers:{"X-CSRFTOKEN":e}}).then((function(){x(),j({id:null,title:"",completed:!1})})).catch((function(t){return console.log(t)})),document.getElementById("form").reset()},id:"form",children:Object(c.jsxs)("div",{className:"flex-wrapper",children:[Object(c.jsx)("div",{style:{flex:6},children:Object(c.jsx)("input",{onChange:function(t){var e=t.target.value;j(Object(l.a)(Object(l.a)({},f),{},{title:e}))},className:"form-control",id:"title",value:f.title,type:"text",name:"title",placeholder:"Add task.."})}),Object(c.jsx)("div",{style:{flex:1},children:Object(c.jsx)("input",{id:"submit",className:"btn btn-warning",type:"submit",name:"Add"})})]})})}),Object(c.jsx)("div",{id:"list-wrapper",children:r.map((function(t,e){return Object(c.jsxs)("div",{className:"task-wrapper flex-wrapper",children:[Object(c.jsx)("div",{onClick:function(){return function(t){t.completed=!t.completed;var e=O("csrftoken"),n="http://127.0.0.1:8000/api/task-update/".concat(t.id,"/"),c={title:t.title,completed:t.completed};u.a.post(n,c,{headers:{"X-CSRFTOKEN":e}}).then((function(){x()}))}(t)},style:{flex:7},children:!1===t.completed?Object(c.jsx)("span",{children:t.title}):Object(c.jsx)("strike",{children:t.title})}),Object(c.jsx)("div",{style:{flex:1},children:Object(c.jsx)("button",{onClick:function(){return function(t){j(t),m(!0)}(t)},className:"btn btn-sm btn-outline-info",children:"Edit"})}),Object(c.jsx)("div",{style:{flex:1},children:Object(c.jsx)("button",{onClick:function(){return function(t){var e=O("csrftoken"),n="http://127.0.0.1:8000/api/task-delete/".concat(t.id,"/");u.a.delete(n,{headers:{"X-CSRFTOKEN":e}}).then((function(){x()})).catch((function(t){return console.log(t)}))}(t)},className:"btn btn-sm btn-outline-dark delete",children:"del"})})]},e)}))})]})})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),r(t),a(t)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),j()}},[[41,1,2]]]);
//# sourceMappingURL=main.ed368057.chunk.js.map